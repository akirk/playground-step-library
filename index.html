<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>WordPress Playground Step Library</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=EB+Garamond&family=Inter&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="styles/main.css">
	<script data-goatcounter="https://step-library.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
	<script type="module" src="lib/src/frontend/main.js"></script>
	<script>
		addEventListener('DOMContentLoaded', function() {
			// Options toggle
			document.getElementById('toggle-further-options').addEventListener('click', function(e) {
				const details = document.getElementById('further-options');
				if (details.open) {
					details.removeAttribute('open');
				} else {
					details.setAttribute('open', '');
				}
				e.stopPropagation();
			});

			// Close dropdown when clicking outside
			document.addEventListener('click', function(e) {
				const details = document.getElementById('further-options');
				const toggleButton = document.getElementById('toggle-further-options');
				if (details.open && !details.contains(e.target) && !toggleButton.contains(e.target)) {
					details.removeAttribute('open');
				}
			});

			// Mobile step library toggle
			const mobileButton = document.getElementById('mobile-show-steps');
			const stepLibraryHolder = document.getElementById('step-library-holder');
			const filterHolder = document.getElementById('filter-holder');

			// Toggle step library
			if (mobileButton) {
				mobileButton.addEventListener('click', function() {
					stepLibraryHolder.classList.add('mobile-visible');
				});
			}

			// Close on back button click (via ::before pseudo-element)
			if (filterHolder) {
				filterHolder.addEventListener('click', function(e) {
					const isSplitViewRight = document.body.classList.contains('split-view-right');
					if ((window.innerWidth <= 734 || isSplitViewRight) && e.target === filterHolder) {
						stepLibraryHolder.classList.remove('mobile-visible');
					}
				});
			}
		});
	</script>
</head>

<body>
	<header>
		<div class="header-row">
			<h1>WordPress Playground Step Library</h1>
			<span id="top-buttons">
				<button id="clear">Clear Steps</button>
				<select id="examples">
					<option>Examples</option>
				</select>
				<span id="options-wrapper">
					<button id="toggle-further-options"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.5"/><path d="M13.7654 2.15224C13.3978 2 12.9319 2 12 2C11.0681 2 10.6022 2 10.2346 2.15224C9.74457 2.35523 9.35522 2.74458 9.15223 3.23463C9.05957 3.45834 9.0233 3.7185 9.00911 4.09799C8.98826 4.65568 8.70226 5.17189 8.21894 5.45093C7.73564 5.72996 7.14559 5.71954 6.65219 5.45876C6.31645 5.2813 6.07301 5.18262 5.83294 5.15102C5.30704 5.08178 4.77518 5.22429 4.35436 5.5472C4.03874 5.78938 3.80577 6.1929 3.33983 6.99993C2.87389 7.80697 2.64092 8.21048 2.58899 8.60491C2.51976 9.1308 2.66227 9.66266 2.98518 10.0835C3.13256 10.2756 3.3397 10.437 3.66119 10.639C4.1338 10.936 4.43789 11.4419 4.43786 12C4.43783 12.5581 4.13375 13.0639 3.66118 13.3608C3.33965 13.5629 3.13248 13.7244 2.98508 13.9165C2.66217 14.3373 2.51966 14.8691 2.5889 15.395C2.64082 15.7894 2.87379 16.193 3.33973 17C3.80568 17.807 4.03865 18.2106 4.35426 18.4527C4.77508 18.7756 5.30694 18.9181 5.83284 18.8489C6.07289 18.8173 6.31632 18.7186 6.65204 18.5412C7.14547 18.2804 7.73556 18.27 8.2189 18.549C8.70224 18.8281 8.98826 19.3443 9.00911 19.9021C9.02331 20.2815 9.05957 20.5417 9.15223 20.7654C9.35522 21.2554 9.74457 21.6448 10.2346 21.8478C10.6022 22 11.0681 22 12 22C12.9319 22 13.3978 22 13.7654 21.8478C14.2554 21.6448 14.6448 21.2554 14.8477 20.7654C14.9404 20.5417 14.9767 20.2815 14.9909 19.902C15.0117 19.3443 15.2977 18.8281 15.781 18.549C16.2643 18.2699 16.8544 18.2804 17.3479 18.5412C17.6836 18.7186 17.927 18.8172 18.167 18.8488C18.6929 18.9181 19.2248 18.7756 19.6456 18.4527C19.9612 18.2105 20.1942 17.807 20.6601 16.9999C21.1261 16.1929 21.3591 15.7894 21.411 15.395C21.4802 14.8691 21.3377 14.3372 21.0148 13.9164C20.8674 13.7243 20.6602 13.5628 20.3387 13.3608C19.8662 13.0639 19.5621 12.558 19.5621 11.9999C19.5621 11.4418 19.8662 10.9361 20.3387 10.6392C20.6603 10.4371 20.8675 10.2757 21.0149 10.0835C21.3378 9.66273 21.4803 9.13087 21.4111 8.60497C21.3592 8.21055 21.1262 7.80703 20.6602 7C20.1943 6.19297 19.9613 5.78945 19.6457 5.54727C19.2249 5.22436 18.693 5.08185 18.1671 5.15109C17.9271 5.18269 17.6837 5.28136 17.3479 5.4588C16.8545 5.71959 16.2644 5.73002 15.7811 5.45096C15.2977 5.17191 15.0117 4.65566 14.9909 4.09794C14.9767 3.71848 14.9404 3.45833 14.8477 3.23463C14.6448 2.74458 14.2554 2.35523 13.7654 2.15224Z" stroke="currentColor" stroke-width="1.5"/></svg> Blueprint Settings</button>
					<details id="further-options">
						<summary style="display:none;">Further Options</summary>
						<div>
							<label>Blueprint Title: <input type="text" id="title" name="title" placeholder="Title"></label>
							<label><input type="checkbox" id="networking" value="true" checked>Enable <a
									href="https://wordpress.github.io/wordpress-playground/blueprints/data-format#features"
									target="_blank">networking</a> (allows plugin/theme installation)</label>
							<label><input type="checkbox" id="wp-cli" value="true">Preload <a
									href="https://wordpress.github.io/wordpress-playground/blueprints/data-format#extra-libraries"
									target="_blank">WP-CLI</a> library <span class="info-icon" title="Makes WP-CLI available for later use via the JS API or console. Not needed if your blueprint already includes wp-cli steps (they auto-install it).">‚ìò</span></label>
							<div class="version-selectors">
								<label>WordPress <select id="wp-version">
										<option value="latest">latest</option>
										<option value="6.4">6.4</option>
										<option value="6.5">6.5</option>
										<option value="6.6">6.6</option>
										<option value="beta">beta</option>
										<option value="nightly">nightly</option>
									</select></label>
								<label>PHP <select id="php-version">
										<option value="latest">latest</option>
										<option value="7.4">7.4</option>
										<option value="8.0">8.0</option>
										<option value="8.1">8.1</option>
										<option value="8.2">8.2</option>
										<option value="8.3">8.3</option>
									</select></label>
							</div>
							<div class="mode-storage-selectors">
								<label><span class="label-text">Display Mode <span class="info-icon" title="Browser modes show a fake browser UI with address bar and controls. Seamless mode shows just the WordPress site without any wrapper.">‚ìò</span></span>
									<select id="mode">
										<option value="browser-full-screen">Fake Browser (full screen)</option>
										<option value="browser">Fake Browser</option>
										<option value="seamless">Seamless</option>
									</select></label>
								<label><span class="label-text">Storage <span class="info-icon" title="Controls how changes are saved. None: changes are lost on refresh. Browser: saved in browser storage. Device: persistent across browsers using OPFS.">‚ìò</span></span>
									<select id="storage">
										<option value="none">None</option>
										<option value="browser">Browser</option>
										<option value="device">Device</option>
									</select></label>
							</div>
							<label>Playground <select id="playground">
									<option value="playground.wordpress.net">playground.wordpress.net</option>
									<option value="http://127.0.0.1:5400/website-server">http://127.0.0.1:5400/website-server</option>
									<option value="__manage_custom__">Manage custom playgrounds...</option>
								</select></label>
							<label>Blueprint encoding <select id="encoding-format">
									<option value="auto">Auto (hash or base64)</option>
									<option value="hash">URL hash</option>
									<option value="base64">Base64</option>
								</select></label>
							<label>Site slug (saves site in Playground) <input type="text" id="autosave" placeholder="my-site-name"
									pattern="[a-z0-9][a-z0-9-]+"></label>
							<label><input type="checkbox" id="exclude-meta" value="true">Exclude meta header from blueprint</label>
						</div>
					</details>
				</span>
				<select id="preview-mode">
					<option value="">Live-Preview Off</option>
					<option value="bottom">Preview Bottom</option>
					<option value="right">Preview Right</option>
				</select>
				<button id="wizard-mode-toggle"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 9H13M13.6213 4.37866L11.5 6.49998M9 5V3M6.50004 6.50001L4.37872 4.37869M5 9H3M6.50004 11.5L4.37872 13.6214M9 15V13M20 20L12 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg> Wizard Mode</button>
			</span>
		</div>
		<p>Drag or click the steps to create a <a
			href="https://wordpress.github.io/wordpress-playground/blueprints/"
			target="_blank">blueprint</a> for <a href="https://wordpress.github.io/wordpress-playground/"
			target="_blank">WordPress Playground</a>. You can <a
			href="https://github.com/akirk/playground-step-library/#contributing">create and submit your own steps!</a></p>
	</header>
	<div id="split-view-wrapper">
		<div id="blueprint-builder">
			<div id="steps-holder">
				<div id="steps-group">
					<div id="step-library-holder">
						<div id="filter-holder"><input type="text" id="filter" placeholder="Filter"> <label><input
									type="checkbox" id="show-builtin" checked> Builtin</label></div>
						<div id="step-library"></div>
					</div>
					<div id="blueprint-steps">
						<div id="draghint">Click or drag the steps to add them here.</div>
					</div>
					<button id="mobile-show-steps" class="mobile-only">+ Add Steps</button>
				</div>
			</div>
			<div class="arrow">‚Üí</div>
			<div id="blueprint-compiled-holder">
				<div id="blueprint-compiled-header">
					<div>Transformed Blueprint</div>
					<button id="history-button"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19 1H8.99C7.89 1 7 1.9 7 3H17C18.1 3 19 3.9 19 5V18L21 19V3C21 1.9 20.1 1 19 1ZM15 7V19.97L10 17.82L5 19.97V7H15ZM5 5H15C16.1 5 17 5.9 17 7V23L10 20L3 23V7C3 5.9 3.9 5 5 5Z" fill="currentColor"/></svg> Mine</button>
				</div>
				<div id="blueprint-compiled-wrapper">
					<textarea id="blueprint-compiled"></textarea>
					<div id="blueprint-status" class="ace-status-bar"></div>
					<button id="save-to-history-btn" title="Save to History"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 5H15C16.1 5 17 5.9 17 7V23L10 20L3 23V7C3 5.9 3.9 5 5 5ZM15 7V19.97L10 17.82L5 19.97V7H15Z" fill="currentColor"/></svg></button>
				</div>
				<div id="blueprint-version-selector">
					<label><input type="radio" name="blueprint-version" value="v1" checked> Blueprint v1</label>
					<label><input type="radio" name="blueprint-version" value="v2"> Blueprint v2<a href="https://github.com/Automattic/WordPress-extension-proposals/blob/trunk/wep-1-blueprint-v2-schema/proposal.md" target="_blank" class="alpha-badge" onclick="event.stopPropagation();">alpha</a></label>
				</div>
				<details id="blueprint-size-warning" class="blueprint-warning" style="display: none;"></details>
				<div id="playground-link-holder">
					<a href="#" id="playground-link" target="_blank">Launch in Playground</a>
					<!--button id="copy-playground-link" title="Copy Playground URL"><svg width="16" height="16" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64h64z"/><path fill="currentColor" d="M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H384zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64z"/></svg></button-->
					<div id="more-options-dropdown" class="more-options-dropdown">
						<button class="more-options-button" title="More options"><svg width="6" height="16" viewBox="0 0 4 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="2" cy="5" r="2" fill="currentColor"/><circle cx="2" cy="12" r="2" fill="currentColor"/><circle cx="2" cy="19" r="2" fill="currentColor"/></svg></button>
						<div id="more-options-menu" class="more-options-menu">
							<button id="share-url-menu">
								<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 8C19.6569 8 21 6.65685 21 5C21 3.34315 19.6569 2 18 2C16.3431 2 15 3.34315 15 5C15 6.65685 16.3431 8 18 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 15C7.65685 15 9 13.6569 9 12C9 10.3431 7.65685 9 6 9C4.34315 9 3 10.3431 3 12C3 13.6569 4.34315 15 6 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M18 22C19.6569 22 21 20.6569 21 19C21 17.3431 19.6569 16 18 16C16.3431 16 15 17.3431 15 19C15 20.6569 16.3431 22 18 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.59 13.51L15.42 17.49" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M15.41 6.51L8.59 10.49" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
								Share Step Library URL
							</button>
							<button id="copy-redirect-url-menu">
								<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 7L9 3L5 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M9 3V13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M17 11V17C17 18.1046 16.1046 19 15 19H5C3.89543 19 3 18.1046 3 17V11" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
								Copy Redirect URL
							</button>
							<button id="download-blueprint-menu">
								<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24 6V32M24 32L16 24M24 32L32 24" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 30V36C6 39 9 42 12 42H36C39 42 42 39 42 36V30" stroke="currentColor" stroke-width="3" stroke-linecap="round"/></svg>
								Download Blueprint
							</button>
							<button id="copy-playground-url-menu">
								<svg width="16" height="16" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64h64z"/><path fill="currentColor" d="M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H384zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64z"/></svg>
								Copy Playground URL
							</button>
							<button id="generate-ai-instructions-menu">
								<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M16 13H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M16 17H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M10 9H9H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
								Generate AI Instructions
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div id="split-view-container" style="display: none;">
			<iframe id="playground-iframe" src="" frameborder="0"></iframe>
		</div>
	</div>

	<div id="wizard-container" style="display: none;">
		<div id="wizard-header">
			<div id="wizard-progress">
				<div class="wizard-step-indicator active" data-step="1">
					<span class="step-number">1</span>
					<span class="step-title">Plugins & Themes</span>
				</div>
				<div class="wizard-step-indicator" data-step="2">
					<span class="step-number">2</span>
					<span class="step-title">Content & Setup</span>
				</div>
				<div class="wizard-step-indicator" data-step="3">
					<span class="step-number">3</span>
					<span class="step-title">Configure</span>
				</div>
				<div class="wizard-step-indicator" data-step="4">
					<span class="step-number">4</span>
					<span class="step-title">Name & Launch</span>
				</div>
			</div>
			<button id="wizard-close">‚úï Exit Wizard</button>
		</div>

		<div id="wizard-content">
			<!-- Step 1: Plugins & Themes -->
			<div class="wizard-step" id="wizard-step-1">
				<h2>üîå What plugins and themes would you like?</h2>
				<p>Enter the URLs or WordPress.org slugs for plugins and themes you want to install.</p>

				<div class="wizard-step-categories">
					<div class="wizard-category">
						<h3>üîå Plugins</h3>
						<div class="wizard-url-input-group">
							<div class="wizard-form-group">
								<input type="text" id="plugin-url-input" placeholder="e.g., woocommerce, jetpack, or github URL..." />
								<button type="button" id="add-plugin-btn">Add Plugin</button>
							</div>
							<small>Enter WordPress.org plugin slug (e.g., "woocommerce") or full GitHub URL</small>
						</div>
						<div class="wizard-selected-items">
							<h4>Selected Plugins</h4>
							<div id="wizard-selected-plugins"></div>
						</div>
					</div>

					<div class="wizard-category">
						<h3>üé® Themes</h3>
						<div class="wizard-url-input-group">
							<div class="wizard-form-group">
								<input type="text" id="theme-url-input" placeholder="e.g., twentytwentyfour, or github URL..." />
								<button type="button" id="add-theme-btn">Add Theme</button>
							</div>
							<small>Enter WordPress.org theme slug (e.g., "twentytwentyfour") or full GitHub URL</small>
						</div>
						<div class="wizard-selected-items">
							<h4>Selected Themes</h4>
							<div id="wizard-selected-themes"></div>
						</div>
					</div>
				</div>
			</div>

			<!-- Step 2: Content & Setup -->
			<div class="wizard-step" id="wizard-step-2" style="display: none;">
				<h2>üìÅ What content and setup do you need?</h2>
				<p>Choose additional features like user accounts, file uploads, or advanced configuration.</p>

				<div class="wizard-step-categories">
					<div class="wizard-category">
						<h3>üìÅ Content & Files</h3>
						<div class="wizard-step-grid" id="wizard-content-steps"></div>
					</div>
					<div class="wizard-category">
						<h3>‚öôÔ∏è Site Configuration</h3>
						<div class="wizard-step-grid" id="wizard-config-steps"></div>
					</div>
					<div class="wizard-category">
						<h3>üõ†Ô∏è Advanced Features</h3>
						<div class="wizard-step-grid" id="wizard-advanced-steps"></div>
					</div>
				</div>

				<div class="wizard-selected-steps">
					<h3>Selected Features</h3>
					<div id="wizard-selected-list-2"></div>
				</div>
			</div>

			<!-- Step 3: Configure -->
			<div class="wizard-step" id="wizard-step-3" style="display: none;">
				<h2>‚öôÔ∏è Configure Your Steps</h2>
				<p>Let's set up the details for each step you've selected.</p>

				<div id="wizard-configuration-area">
					<!-- Step configurations will be inserted here -->
				</div>
			</div>

			<!-- Step 4: Name & Launch -->
			<div class="wizard-step" id="wizard-step-4" style="display: none;">
				<h2>‚úì Name your blueprint and apply!</h2>
				<p>Give your blueprint a title and we'll add everything to the blueprint builder.</p>

				<div class="wizard-form-group">
					<label for="wizard-title">What title do you want to give this blueprint?</label>
					<input type="text" id="wizard-title" placeholder="My WordPress Setup" />
					<small>This helps you identify your blueprint later</small>
				</div>

				<div class="wizard-summary">
					<div class="wizard-summary-section">
						<h3>üìã Summary</h3>
						<div id="wizard-summary-all"></div>
					</div>
					<div class="wizard-summary-section">
						<h3>üóÇÔ∏è Blueprint Preview</h3>
						<textarea id="wizard-final-blueprint" readonly></textarea>
					</div>
				</div>
			</div>
		</div>

		<div id="wizard-navigation">
			<button id="wizard-prev" disabled>‚Üê Previous</button>
			<div id="wizard-step-info">
				<span id="wizard-current-step">1</span> of <span id="wizard-total-steps">4</span>
			</div>
			<button id="wizard-next">Next ‚Üí</button>
			<button id="wizard-finish" style="display: none;">‚úì Apply to Builder</button>
		</div>
	</div>

	<dialog id="view-source">
		<div id="view-source-header">
			<h2></h2>
			<a id="view-source-docs" href="" target="_blank" style="display: none;"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 5H15C16.1 5 17 5.9 17 7V23L10 20L3 23V7C3 5.9 3.9 5 5 5ZM15 7V19.97L10 17.82L5 19.97V7H15Z" fill="currentColor"/></svg> Docs</a>
			<button id="view-source-close" class="dialog-close-btn">‚úï</button>
		</div>
		<div id="view-source-editor"></div>
		<div id="view-source-status" class="ace-status-bar"></div>
	</dialog>

	<dialog id="save-step">
		<h2>Save to your Personal Step Library</h2>
		<p>This will appear in the list of steps, you can delete or modify it there.</p>
		<label>Step Name: <input type="text" id="my-step-name" size="40"></label><br>
		<button>Save</button>
	</dialog>

	<dialog id="code-editor">
		<p>The textarea will be automatically updated with what you type.</p>
		<div id="code-editor-container" class="line-numbers"></div>
		<div id="code-editor-status" class="ace-status-bar"></div>
		<br>
		<button>Close</button>
	</dialog>

	<dialog id="autoredirecting">
		<p>Redirecting to a pre-configured WordPress Playground</p>
		<p><strong id="autoredirect-title"></strong></p>
		<p>in <span id="autoredirecting-seconds">3 seconds</span>...</p>
		<div>
			<button id="redirect-now">Launch in Playground now</button><button id="autoredirect-cancel">Cancel</button>
		</div>
	</dialog>

	<dialog id="history-modal">
		<div id="history-modal-content">
			<div id="history-header">
				<h2>My Blueprints and Steps</h2>
				<div id="history-import-export-buttons">
					<button id="history-save-current-btn" title="Save Current Blueprint">
						<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 5H15C16.1 5 17 5.9 17 7V23L10 20L3 23V7C3 5.9 3.9 5 5 5ZM15 7V19.97L10 17.82L5 19.97V7H15Z" fill="currentColor"/></svg>
						Save Current
					</button>
					<button id="history-export-all-btn" title="Export All Blueprints and Personal Steps">
						<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24 6V32M24 32L16 24M24 32L32 24" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 30V36C6 39 9 42 12 42H36C39 42 42 39 42 36V30" stroke="currentColor" stroke-width="3" stroke-linecap="round"/></svg>
						Export All
					</button>
					<button id="history-import-btn" title="Import Blueprints and Personal Steps">
						<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24 42V16M24 16L16 24M24 16L32 24" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 18V12C6 9 9 6 12 6H36C39 6 42 9 42 12V18" stroke="currentColor" stroke-width="3" stroke-linecap="round"/></svg>
						Import
					</button>
					<input type="file" id="history-import-file" accept=".json" style="display: none;" />
				</div>
				<button id="history-close" class="dialog-close-btn">‚úï</button>
			</div>
			<div id="history-settings">
				<input type="text" id="history-search" placeholder="Search blueprints...">
			</div>
			<div id="history-body">
				<div id="history-list-column">
					<div id="history-list"></div>
				</div>
				<div id="history-detail-column">
					<button id="history-mobile-back-btn" style="display: none;">‚Üê Back</button>
					<div id="history-detail-empty">Select an entry to view details</div>
					<div id="history-detail-content" style="display: none;">
						<div id="history-blueprint-wrapper">
							<textarea id="history-blueprint-view" readonly></textarea>
							<div id="history-blueprint-status" class="ace-status-bar"></div>
						</div>
						<div id="history-actions">
							<button id="history-restore-btn"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.52185 7H7C7.55229 7 8 7.44772 8 8C8 8.55229 7.55228 9 7 9H3C1.89543 9 1 8.10457 1 7V3C1 2.44772 1.44772 2 2 2C2.55228 2 3 2.44772 3 3V5.6754C4.26953 3.8688 6.06062 2.47676 8.14852 1.69631C10.6633 0.756291 13.435 0.768419 15.9415 1.73041C18.448 2.69239 20.5161 4.53782 21.7562 6.91897C22.9963 9.30013 23.3228 12.0526 22.6741 14.6578C22.0254 17.263 20.4464 19.541 18.2345 21.0626C16.0226 22.5842 13.3306 23.2444 10.6657 22.9188C8.00083 22.5931 5.54702 21.3041 3.76664 19.2946C2.20818 17.5356 1.25993 15.3309 1.04625 13.0078C0.995657 12.4579 1.45216 12.0088 2.00445 12.0084C2.55673 12.0079 3.00351 12.4566 3.06526 13.0055C3.27138 14.8374 4.03712 16.5706 5.27027 17.9625C6.7255 19.605 8.73118 20.6586 10.9094 20.9247C13.0876 21.1909 15.288 20.6513 17.0959 19.4075C18.9039 18.1638 20.1945 16.3018 20.7247 14.1724C21.2549 12.043 20.9881 9.79319 19.9745 7.8469C18.9608 5.90061 17.2704 4.3922 15.2217 3.6059C13.173 2.8196 10.9074 2.80968 8.8519 3.57803C7.11008 4.22911 5.62099 5.40094 4.57993 6.92229C4.56156 6.94914 4.54217 6.97505 4.52185 7Z" fill="currentColor"/></svg> Restore</button>
							<button id="history-launch-btn">Launch in Playground</button>
							<div id="history-more-options-dropdown" class="more-options-dropdown">
								<button class="more-options-button" title="More options"><svg width="6" height="16" viewBox="0 0 4 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="2" cy="5" r="2" fill="currentColor"/><circle cx="2" cy="12" r="2" fill="currentColor"/><circle cx="2" cy="19" r="2" fill="currentColor"/></svg></button>
								<div class="more-options-menu">
									<button id="history-share-url-btn">
										<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 8C19.6569 8 21 6.65685 21 5C21 3.34315 19.6569 2 18 2C16.3431 2 15 3.34315 15 5C15 6.65685 16.3431 8 18 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 15C7.65685 15 9 13.6569 9 12C9 10.3431 7.65685 9 6 9C4.34315 9 3 10.3431 3 12C3 13.6569 4.34315 15 6 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M18 22C19.6569 22 21 20.6569 21 19C21 17.3431 19.6569 16 18 16C16.3431 16 15 17.3431 15 19C15 20.6569 16.3431 22 18 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.59 13.51L15.42 17.49" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M15.41 6.51L8.59 10.49" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
										Share Step Library URL
									</button>
									<button id="history-copy-redirect-url-btn">
										<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 7L9 3L5 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M9 3V13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M17 11V17C17 18.1046 16.1046 19 15 19H5C3.89543 19 3 18.1046 3 17V11" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
										Copy Redirect URL
									</button>
									<button id="history-download-blueprint-btn">
										<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24 6V32M24 32L16 24M24 32L32 24" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 30V36C6 39 9 42 12 42H36C39 42 42 39 42 36V30" stroke="currentColor" stroke-width="3" stroke-linecap="round"/></svg>
										Download Blueprint
									</button>
									<button id="history-copy-blueprint-btn">
										<svg width="16" height="16" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64h64z"/><path fill="currentColor" d="M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H384zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64z"/></svg>
										Copy Blueprint JSON
									</button>
									<button id="history-copy-playground-url-btn">
										<svg width="16" height="16" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64h64z"/><path fill="currentColor" d="M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H384zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64z"/></svg>
										Copy Playground URL
									</button>
								</div>
							</div>
							<button id="history-mobile-delete-btn" style="display: none;"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.1709 4C9.58273 2.83481 10.694 2 12.0002 2C13.3064 2 14.4177 2.83481 14.8295 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M20.5001 6H3.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M18.8332 8.5L18.3732 15.3991C18.1962 18.054 18.1077 19.3815 17.2427 20.1907C16.3777 21 15.0473 21 12.3865 21H11.6132C8.95235 21 7.62195 21 6.75694 20.1907C5.89194 19.3815 5.80344 18.054 5.62644 15.3991L5.1665 8.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M9.5 11L10 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M14.5 11L14 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg> Delete</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="blueprints-dialog-toast" style="display: none;">
			<span id="blueprints-dialog-toast-message"></span>
			<button id="blueprints-dialog-toast-undo" style="display: none;">Undo</button>
			<button id="blueprints-dialog-toast-close">‚úï</button>
		</div>
	</dialog>

	<dialog id="save-blueprint-dialog">
		<h2>Save Blueprint</h2>
		<div id="save-blueprint-message"></div>
		<label id="save-blueprint-label">
			Blueprint Name:
			<input type="text" id="save-blueprint-name" size="40">
		</label>
		<div class="dialog-buttons">
			<button id="save-blueprint-overwrite" class="primary" style="display: none;">Overwrite</button>
			<button id="save-blueprint-rename" style="display: none;">Choose New Name</button>
			<button id="save-blueprint-save" class="primary">Save</button>
			<button id="save-blueprint-cancel">Cancel</button>
		</div>
	</dialog>

	<dialog id="wpenv-unresolved-dialog">
		<h2>Unresolved Local Paths</h2>
		<p>The wp-env.json contains local paths that cannot be automatically resolved. Please provide URLs for the following:</p>
		<div id="wpenv-unresolved-items"></div>
		<div class="dialog-buttons">
			<button id="wpenv-unresolved-import" class="primary">Import</button>
			<button id="wpenv-unresolved-skip">Skip These</button>
			<button id="wpenv-unresolved-cancel">Cancel</button>
		</div>
	</dialog>

	<div id="global-toast" style="display: none;">
		<span id="global-toast-message"></span>
		<button id="global-toast-undo" style="display: none;">Undo</button>
		<button id="global-toast-close">‚úï</button>
	</div>

	<dialog id="ai-instructions-dialog">
		<div id="ai-instructions-header">
			<h2>AI Instructions Snippet</h2>
			<button id="ai-instructions-close" class="dialog-close-btn">‚úï</button>
		</div>
		<p>Add this to your AI agent's instructions file to enable testing changes in WordPress Playground. The URL is generated from your current blueprint.</p>
		<div id="ai-instructions-options">
			<label>URL Type:
				<select id="ai-instructions-url-type">
					<option value="step-library">Step Library (redirect)</option>
					<option value="playground-hash">Playground (hash)</option>
					<option value="playground-data">Playground (data URL)</option>
				</select>
			</label>
		</div>
		<div id="ai-instructions-content-wrapper">
			<textarea id="ai-instructions-content"></textarea>
			<div id="ai-instructions-status" class="ace-status-bar"></div>
		</div>
		<div class="dialog-buttons">
			<button id="ai-instructions-copy" class="primary">Copy to Clipboard</button>
		</div>
	</dialog>
	<dialog id="manage-playgrounds-dialog">
		<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
			<h2 style="margin: 0;">Manage Custom Playgrounds</h2>
			<button id="manage-playgrounds-close" class="dialog-close-btn" style="position: static;">‚úï</button>
		</div>
		<div id="custom-playgrounds-list" style="min-width: 300px;"></div>
		<div class="dialog-buttons" style="margin-top: 16px;">
			<button id="add-custom-playground" class="primary">+ Add New</button>
		</div>
	</dialog>
</body>

</html>
